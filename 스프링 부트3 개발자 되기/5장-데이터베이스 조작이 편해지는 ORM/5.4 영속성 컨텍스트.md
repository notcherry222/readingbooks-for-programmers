## **영속성 컨텍스트란?**
JPA의 중요한 특징 중 하나로 엔티티를 관리하는 가상의 공간이다. 영속성 컨텍스트에는 1차 캐시, 쓰기 지연, 변경 감지, 지연 로딩이라는 특징이 있다. 



**1. 1차 캐시**
캐시의 키는 엔티티의 @Id 애너테이션이 달린 기본키 역할을 하는 식별자이며, 값은 엔티티이다. 엔티티를 조회하면 1차 캐시에서 데이터를 조회하고 값이 있으면 반환한다. 값이 없으면 데이터베이스에서 조회한 후 1차 캐시에 저장한 다음 반환한다.

**2. 쓰기 지연**
쓰기 지연은 쿼리를 모았다가 트랜잭션을 커밋하면 한번에 쿼리를 실행하는 것을 말한다. 적당한 묶음으로 쿼리를 요청할 수 있어 데이터베이스 시스템의 부담을 줄일 수 있다.

**3. 변경 감지**
트랜잭션을 커밋하면 1차 캐시의 값과 엔티티 값을 비교해서 변경된 값이 있다면 변경 사항을 감지해 데이터베이스에 자동으로 반영됩니다. 

**4. 지연 로딩**
쿼리 요청시, 필요할 때 쿼리를 날려 데이터를 조회하는 것을 말한다. 