  

### 11.1 단일 모델의 단점  
  
조회는 속도가 빠를수록 좋기 때문에 쿼리 관련 최적화 기능을 사용할 수 없다. 이는 한번의 select 쿼리로 조회 화면에 필요한 데이터를 읽어올 수 없어 조회 문제가 생길 수 있다.  
이런 구현 복잡도를 낮추는 간단한 방법이 상태 변경을 위한 모델과 조회를 위한 모델을 분리하는 것이다.  
  


### 11.2 CQRS  
  
CQRS를 사용하면 각 모델에 맞는 구현 기술을 선택할 수 있다. 예를 들어 명령 모델은 객체 지향에 기반해서 도메인 모델을 구현하기에 적당한 JPA를 사용해서 구현하고, 조회 모델은 DB 테이블에서 SQL로 데이터를 조회할 때 좋은 마이바티스를 사용해서 구현하면 된다.  
명령과 조회 모델이 같은 구현 기술을 사용할 수도 있다. 혹은 다른 저장소를 사용할 수도 있다. 명령 모델은 트랜잭션을 지원하는 RDBMS를 사용하고, 조회 모델은 성능이 좋은 메모리 기반 NoSQL을 사용할 수 있다. 두 데이터간 동기화는 10장에서 배운 이벤트를 활용해서 처리한다. 명령 모델에서 상태를 변경하면 이벤트가 발생해서 조회 모델에 전달하여 변경 내역을 반영하는 방식이 있다. 이렇게 다른 데이터 저장소를 사용할 경우 데이터 동기화 시점에 따라 구현 방식이 달라질 수 있다.  
CQRS 사용의 단점은 먼저 구현해야 할 코드가 많아진다는 것이다. 그리고 구현 기술이 많이 필요하다. 이러한 장단점을 고려해서 CQRS 패턴을 도입해야 할지 결정해야 ㅎ나다. 