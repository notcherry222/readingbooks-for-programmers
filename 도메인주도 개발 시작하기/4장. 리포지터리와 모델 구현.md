### 4.1 JPA를 이용한 리포지터리 구현  
  
  
애그리거트를 어떤 저장소에 저장하느냐에 따라 리포지터리를 구현하는 방법은 달라진다. 대중적인 기술로는 JPA를 꼽을 수 있다.  
  
**모듈 위치**

리포지터리 인터페이스는 애그리거트와 같이 도메인 영역에 속하고, 리포지터리를 구현한 클래스는 인프라스트럭처에 속한다. 리포지터리 구현 클래스를 domain.impl과 같은 패키지에 위치시키는 것은 좋은 설계 방법이 아니다. 인프라스트럭처에 대한 의존을 낮추기 위해 가능하면 리포지터리 구현 클래스를 인프라스트럭처 영역에 위치시켜야 한다.  
  
**리포지터리 기본 기능 구현**  
리포지터리가 제공하는 기능은 ID로 애그리거트 조회하기와 애그리거트 저장하기가 있다. 애그리거트를 수정한 결과를 저장소에 반영하는 메서드를 추가할 필요는 없다. JPA를 사용하면 트랜잭션 범위에서 변경한 데이터를 자동으로 DB에 반영하기 때문이다.  
  


### 4.2 스프링 데이터 JPA를 이용한 리포지터리 구현  
  
  
